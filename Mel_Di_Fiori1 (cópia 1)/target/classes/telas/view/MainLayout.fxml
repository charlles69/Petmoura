<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import org.kordamp.ikonli.javafx.FontIcon?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>

<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="tela_main_controller.MainLayoutController"
            stylesheets="@/css/style.css">

    <children>
        <HBox spacing="0" AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="0.0" 
              AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">

            <!-- MENU LATERAL -->
            <VBox styleClass="area-padrao" prefWidth="162" VBox.vgrow="ALWAYS" spacing="12">

                <!-- Logo -->
                <HBox alignment="TOP_CENTER">
                    <padding><Insets top="5" right="0" bottom="5" left="0"/></padding>
                    <children>
                        <ImageView fitHeight="200" fitWidth="180" preserveRatio="true" smooth="true">
                            <image><Image url="@/imagens/logopet1.png"/></image>
                        </ImageView>
                    </children>
                </HBox>

                <!-- ✅ CORRIGIDO: Botões com métodos corretos -->
                <Button text="Dashboard" styleClass="button" onAction="#abrirDashboard" maxWidth="Infinity">
                    <graphic><FontIcon iconLiteral="fas-chart-bar" styleClass="font-Icon"/></graphic>
                </Button>

                <Button text="Cadastro" styleClass="button" onAction="#abrirListaAnimais" maxWidth="Infinity">
                    <graphic><FontIcon iconLiteral="fas-file-alt" styleClass="font-Icon"/></graphic>
                </Button>

                <Button text="Veterinários" styleClass="button" onAction="#abrirListaVeterinarios" maxWidth="Infinity">
                    <graphic><FontIcon iconLiteral="fas-user-md" styleClass="font-Icon"/></graphic>
                </Button>

                <Button text="Tutores" styleClass="button" onAction="#abrirListaTutores" maxWidth="Infinity">
                    <graphic><FontIcon iconLiteral="fas-users" styleClass="font-Icon"/></graphic>
                </Button>

                <Button text="Financeiro" styleClass="button" maxWidth="Infinity">
                    <graphic><FontIcon iconLiteral="fas-coins" styleClass="font-Icon"/></graphic>
                </Button>

                <!-- Espaço flexível -->
                <Region VBox.vgrow="ALWAYS" />

                <!-- Botão Sair -->
                <VBox>
                    <padding><Insets top="0" right="0" bottom="20" left="0"/></padding>
                    <children>
                        <Button text="Sair" styleClass="button" onAction="#sair" maxWidth="Infinity">
                            <graphic><FontIcon iconLiteral="fas-sign-out-alt" styleClass="font-Icon"/></graphic>
                        </Button>
                    </children>
                </VBox>

            </VBox>

            <!-- ÁREA DE CONTEÚDO -->
            <VBox spacing="0" VBox.vgrow="ALWAYS" HBox.hgrow="ALWAYS" maxWidth="Infinity">

                <!-- Cabeçalho -->
                <HBox styleClass="cabecalho" spacing="10" alignment="CENTER_LEFT" 
                      prefHeight="60" HBox.hgrow="ALWAYS" maxWidth="Infinity">

                    <Label text="Sistema Clínica Veterinária" styleClass="titulo-principal" />
                    
                    <Region HBox.hgrow="ALWAYS" />

                    <VBox alignment="CENTER" spacing="2">
                        <Label fx:id="labelRelogio" styleClass="relogio-label" text="00 Março, 00:00" />
                        <Label fx:id="labelEstacao" styleClass="estacao-label" />
                    </VBox>

                    <Region HBox.hgrow="ALWAYS" />

                    <HBox spacing="10" alignment="CENTER_RIGHT">
                        <Label text="Charlles Otavio" styleClass="nome-usuario" />
                        <ImageView fitWidth="45" fitHeight="45" pickOnBounds="true" preserveRatio="true" styleClass="image-view"/>
                        <Button styleClass="botao-pesquisa">
                            <graphic><FontIcon iconLiteral="fas-search" styleClass="font-Icon" /></graphic>
                        </Button>
                    </HBox>
                </HBox>

                <!-- Painel dinâmico -->
                <StackPane fx:id="painelConteudo" VBox.vgrow="ALWAYS"/>
            </VBox>

        </HBox>
    </children>
</AnchorPane>